# Rounding Errors

*Upload Date: 20231016*

*Source: [https://www.youtube.com/watch?v=6rmLP-ri-JU](https://www.youtube.com/watch?v=6rmLP-ri-JU)*

# Rounding Errors | Web3 Exploits 101

Hey everyone, Owen here. This video dives deep into rounding errors in Web3, specifically Solidity smart contracts.

## 1. Main Points

*   Rounding errors are a significant security vulnerability in Web3.
*   These errors are often found in functions that involve calculations with numbers that aren't whole numbers.
*   The use of truncation in division and the lack of floating-point numbers can lead to surprising results.
*   The most common rounding errors are in protocols using concentrated liquidity pools.

## 2. Key Insights

In all my experience auditing smart contracts, rounding errors are a common issue. They often happen when you're working with things that aren't whole numbers, leading to unexpected results in the code.

Crucially, Solidity, unlike many programming languages, doesn't have floating-point numbers. Instead, it relies on integers and truncations.  This can cause issues when trying to represent a fraction, like (9/10).  Solidity truncates the result, meaning that it chops off the decimal portion of the outcome.   This truncation leads to a severe error when a number is not exactly divisible. In some protocols, like concentrated liquidity pools,  this can mean the calculated price is always rounded down.  This is often a significant vulnerability because a malicious actor can take advantage of this predictable error.

I've personally seen a huge number of instances where rounding vulnerabilities are present, which is why I spend a lot of time analyzing this issue. It isn't a trivial issue; many projects rely on these calculations, and misrepresentation of fractional parts can severely impact the functioning and security of the entire system.


## 3. Practical Takeaways

*   **Understand the limitations of Solidity:** Solidity doesn't use floating-point numbers; it relies on integers and truncation in division.
*   **Pay careful attention to decimal places:**  Be extremely vigilant in smart contract code that involves fractional numbers; ensure the code correctly handles potential decimal adjustments.
*   **Carefully review calculations:** When performing calculations in smart contracts, always check the potential for rounding errors, especially in division.
*   **Perform security reviews:** Check for truncation issues and review edge cases in the code.  Always use auditing services specialized in Web3 security!


## 4. Additional Notes

This video is part of a series covering Web3 exploits. It serves as a vital introduction to the specific risks of rounding errors, demonstrating many scenarios and use cases, hopefully helping viewers understand how to spot these vulnerabilities in their own projects or code.